{% load static %}
<!doctype html>
<html>
    <head>
        <title>Visiter System</title>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width" />
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap.min.css">
        <link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/bootstrap/3.2.0/css/bootstrap-theme.min.css">
        <link href="//fonts.googleapis.com/css?family=Lobster&subset=latin,latin-ext" rel="stylesheet" type="text/css">
        <link rel="stylesheet" href="{% static 'css/design_Guest.css' %}">
        <!--fontawesomeの機能を利用するために使用-->
        <script src="https://kit.fontawesome.com/e050036233.js" crossorigin="anonymous"></script>
        <!--タブメニュー機能に使用-->
        <link rel="stylesheet" type="text/css" href="https://coco-factory.jp/ugokuweb/wp-content/themes/ugokuweb/data/5-4-1/css/5-4-1.css">
    </head>
    <body>

      <div class="loading">
        <div class="loading-wrap">
         <i class="fas fa-spinner fa-5x fa-spin"style="color: #fff;"></i>
        </div>
      </div>

      <div class="content" style='text-align:center;vertical-align: middle;'><br>
        <br>
        <i id='open' class="fa-solid fa-unlock-keyhole fa-3x" style="color: #FFD700;"></i>
        <i id='lock' class="fa-solid fa-lock fa-3x" style="color: #FFD700;"></i>
        <h2 id='message'></h2>
        <br>
        <h1 id='count'></h1>

      </div>

      <script>
        const loading = document.querySelector('.loading');
        window.addEventListener('load', () => {
          setTimeout(function() {
            loading.classList.add('hide');
          }, 5000);
        });
      </script>

      <script>
        let count = 30;
        message = document.getElementById("message");
        open = document.getElementById("open");
        lock = document.getElementById("lock");

        window.onload = function(){
          setTimeout(counter,5000);
        }
        function counter(){
          if(count<0){
            document.getElementById("count").style.display = "none";//非表示
            document.getElementById("open").style.display = "none";//非表示
            document.getElementById("lock").style.display = "block";//非表示
            message.innerText = "ポストを施錠しました";
          }else{
            document.getElementById("lock").style.display = "none";//非表示
            message.innerText = "ポストを解除しました\n30秒以内に投函をお願いします";
          }
          document.getElementById("count").innerHTML = count;
          count--;
          setTimeout(counter, 1000);
        }
      </script>

    </body>
</html>
